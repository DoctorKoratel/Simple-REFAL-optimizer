$EXTERN LoadFile, WriteLine, Parser, Error, HardGen, FastGen, MakeIndexes;

MakePatterns {
	e.Pattern '=' e.Result ';' e.Tail = 
		(<Parser e.Pattern>) <MakePatterns e.Tail>;
	 = ;
	e.smth = <Error 'Bad scentence: ' e.smth>;
}

Test {
	(e.Sent) e.Tail = 
		<WriteLine 
			'Input sentence: ' e.Sent
		> 
		<WriteLine 
			'Patterns: ' 
			<MakePatterns 
				e.Sent
			>
		> 
		<WriteLine 
			'HardGen: '
			<HardGen
				<MakePatterns
					e.Sent
				>
			>
		>
		<WriteLine 
			'FastGen: '
			<FastGen
				<HardGen
					<MakePatterns
						e.Sent
					>
				>
			>
		>
		<Test 
			e.Tail
		>;
	 = ;
}

$ENTRY Go {
	 = <Test <LoadFile 'Test.txt'>>;
}